document.addEventListener("DOMContentLoaded",(function(){if(document.getElementById("burger-btn")){const e=document.getElementById("burger-btn"),t=document.getElementById("mobile-menu"),o=document.body;e&&t&&(t.querySelectorAll(".mobile-nav ul li").forEach(((e,t)=>{e.style.setProperty("--item-index",t)})),e.addEventListener("click",(function(){this.classList.toggle("active"),t.classList.toggle("active"),o.classList.toggle("menu-open"),t.classList.contains("active")&&setTimeout((()=>{const e=t.querySelector(".mobile-nav ul li a");e&&e.focus()}),400)})),t.querySelectorAll("a").forEach((i=>{i.addEventListener("click",(function(){e.classList.remove("active"),t.classList.remove("active"),o.classList.remove("menu-open")}))})),document.addEventListener("keydown",(function(i){"Escape"===i.key&&t.classList.contains("active")&&(e.classList.remove("active"),t.classList.remove("active"),o.classList.remove("menu-open"))})),document.addEventListener("click",(function(i){!t.contains(i.target)&&!e.contains(i.target)&&t.classList.contains("active")&&(e.classList.remove("active"),t.classList.remove("active"),o.classList.remove("menu-open"))})),window.addEventListener("resize",(function(){window.innerWidth>768&&t.classList.contains("active")&&(e.classList.remove("active"),t.classList.remove("active"),o.classList.remove("menu-open"))})))}if(document.querySelectorAll(".filter-button")){const e=document.querySelectorAll(".filter-button"),t=document.querySelectorAll(".product-card"),o=document.getElementById("no-products-message");e.forEach((i=>{i.addEventListener("click",(function(){e.forEach((e=>{e.classList.remove("active")})),this.classList.add("active");const i=this.getAttribute("data-category");let a=0;t.forEach((e=>{const t=e.getAttribute("data-category");"all"===i||t===i?(e.style.display="flex",a++):e.style.display="none"})),0===a?o.classList.remove("hidden"):o.classList.add("hidden")}))}))}if(document.querySelectorAll(".open-modal-button")&&document.querySelectorAll(".open-modal-button").forEach((e=>{e.addEventListener("click",(function(){!function(e){document.querySelectorAll(".slider-item").forEach((e=>{e.style.display="none"}));const t=document.querySelector('.slider-item[data-category="default"]');t.style.display="block",t.classList.add("active"),"odno"===e?document.querySelector('.slider-item[data-category="Odnostvorchatyy"]').style.display="block":"dva"===e&&(document.querySelector('.slider-item[data-category="Dvukhstvorchatyy"]').style.display="block")}(this.getAttribute("data-category")),document.getElementById("product-modal").style.display="block"}))})),document.getElementById("comparison-inp")){const e=document.getElementById("divisor"),t=document.getElementById("comparison-inp");t.addEventListener("input",(function(){e.style.width=t.value+"%"}))}if(document.querySelector(".mySwiper-location")&&document.querySelectorAll(".mySwiper-location").forEach((e=>{new Swiper(e,{speed:800,slidesPerView:1,spaceBetween:0,centeredSlides:!0,pagination:{el:e.querySelector(".swiper-pagination-location"),clickable:!0},navigation:{nextEl:e.querySelector(".swiper-button-next-location"),prevEl:e.querySelector(".swiper-button-prev-location")}})})),document.querySelector(".mySwiper-kitchen")&&document.querySelectorAll(".mySwiper-kitchen").forEach((e=>{new Swiper(e,{speed:800,slidesPerView:1,spaceBetween:0,centeredSlides:!0,pagination:{el:e.querySelector(".swiper-pagination-kitchen"),clickable:!0},navigation:{nextEl:e.querySelector(".swiper-button-next-kitchen"),prevEl:e.querySelector(".swiper-button-prev-kitchen")}})})),document.querySelector(".mySwiper-about")&&new Swiper(".mySwiper-about",{speed:800,slidesPerView:1,spaceBetween:0,effect:"fade",centeredSlides:!0,fadeEffect:{crossFade:!0},grabCursor:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination-about",clickable:!0},navigation:{nextEl:".swiper-button-next-about",prevEl:".swiper-button-prev-about"}}),document.querySelector(".mySwiper-hero")&&new Swiper(".mySwiper-hero",{speed:800,slidesPerView:1,spaceBetween:0,effect:"fade",loop:!0,centeredSlides:!0,fadeEffect:{crossFade:!0},grabCursor:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination-hero",clickable:!0},navigation:{nextEl:".swiper-button-next-hero",prevEl:".swiper-button-prev-hero"}}),document.querySelector(".mySwiper-kitchen-hits")&&new Swiper(".mySwiper-kitchen-hits",{speed:600,slidesPerView:4,spaceBetween:30,loop:!0,breakpoints:{1:{slidesPerView:1,spaceBetween:20},480:{slidesPerView:2,spaceBetween:20},768:{slidesPerView:3,spaceBetween:20},1024:{slidesPerView:4,spaceBetween:30}},autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination-kitchen-hits",clickable:!0},navigation:{nextEl:".swiper-button-next-kitchen-hits",prevEl:".swiper-button-prev-kitchen-hits"}}),document.querySelector(".mySwiper-hits")&&new Swiper(".mySwiper-hits",{speed:600,slidesPerView:4,spaceBetween:30,loop:!0,breakpoints:{1:{slidesPerView:1,spaceBetween:20},480:{slidesPerView:2,spaceBetween:20},768:{slidesPerView:3,spaceBetween:20},1024:{slidesPerView:4,spaceBetween:30}},autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination-hits",clickable:!0},navigation:{nextEl:".swiper-button-next-hits",prevEl:".swiper-button-prev-hits"}}),document.querySelector("[data-fancybox]")&&$("[data-fancybox]").fancybox({loop:!0,hash:!1,autoFocus:!1,buttons:["slideShow","fullScreen","thumbs","close"]}),document.querySelectorAll(".location_filters .filter-button")){const e=document.querySelectorAll(".location_filters .filter-button");document.querySelectorAll(".location_content"),e.forEach((t=>{t.addEventListener("click",(function(){const t=this.getAttribute("data-tab"),o=document.querySelector(".location_content.active");e.forEach((e=>e.classList.remove("active"))),this.classList.add("active"),o&&gsap.to(o,{opacity:0,scale:1.2,duration:.4,onComplete:()=>{o.classList.remove("active");const e=document.getElementById("content"+t);e.classList.add("active"),gsap.timeline().fromTo(e,{opacity:0,y:500,scale:.7},{opacity:1,y:0,scale:.85,duration:.7,ease:"power4.out"}).to(e,{scale:1,filter:"blur(0px)",duration:.3,ease:"elastic.out(1, 1)"}).to(e,{scale:1,duration:.3,ease:"ease.out"})}})}))}))}document.querySelector("header")&&(gsap.registerPlugin(ScrollTrigger),gsap.from("header",{y:-300,opacity:0,duration:2,ease:"power3.out"})),document.querySelector("section")&&gsap.utils.toArray("section").forEach(((e,t)=>{if(!e.classList.contains("no-animation")){let o=e.querySelector(".container");o&&gsap.from(o,{opacity:0,x:t%2==0?-200:200,duration:1.5,ease:"power3.out",scrollTrigger:{trigger:e,start:"top 80%",toggleActions:"play none none reverse"}})}})),document.querySelector(".steps-on-scroll")&&gsap.utils.toArray(".steps-on-scroll").forEach(((e,t)=>{gsap.from(e,{opacity:0,x:t%2==0?-200:200,duration:1.5,ease:"power3.out",scrollTrigger:{trigger:e,start:"top 80%",toggleActions:"play none none reverse"}})})),document.querySelector(".animate-on-scroll")&&gsap.utils.toArray(".animate-on-scroll").forEach((e=>{gsap.from(e,{opacity:0,y:-300,duration:1.6,stagger:.2,ease:"power2.out",scrollTrigger:{trigger:e,start:"top 85%",toggleActions:"play none none reverse"}})})),document.querySelector("footer")&&gsap.utils.toArray("footer").forEach((e=>{e.classList.contains("no-animation")||gsap.from(e,{opacity:0,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:e,start:"top 80%",toggleActions:"play none none reverse"}})})),document.querySelectorAll(".product-card")&&document.querySelectorAll(".product-action").forEach((e=>{e.addEventListener("click",(function(){const e=this.closest(".product-card"),t={id:e.getAttribute("data-id"),title:e.getAttribute("data-title"),description:e.getAttribute("data-description"),price:e.getAttribute("data-price"),oldPrice:e.getAttribute("data-old-price"),width:e.getAttribute("data-width"),height:e.getAttribute("data-height"),depth:e.getAttribute("data-depth"),shelves:e.getAttribute("data-shelves"),boxes:e.getAttribute("data-boxes"),material:e.getAttribute("data-material"),color:e.getAttribute("data-color"),features:e.getAttribute("data-features"),link:e.getAttribute("data-link"),images:JSON.parse(e.getAttribute("data-images"))};localStorage.setItem("selectedProduct",JSON.stringify(t)),window.location.href="product-page.html"}))}))}));